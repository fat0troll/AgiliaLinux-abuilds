#ABUILD created by/создан: fat0troll, fat0troll at riseup.net 
#----------------------------- General vars --------------------------------------
#------------------------- Основные переменные -----------------------------------
#Read only if you brave, ABUILD contains strong language and bydlocode.
pkgname=libreoffice-suite
name=libreoffice
pkgver=3.3.0.4
ver=$pkgver
# It means 3.3.0 RC4, it's release name… They're lazy.
pkgtree=`echo $pkgver | cut -d . -f 1-2`
# It's tree of source code
oooupd=`echo $pkgver | cut -d . -f 1-3` | sed 's/\.//g'`
pkgbuild=1
arch=('auto')

shortdesc="LibreOffice Office Suite"
#-ruler---|--------------------------------------------------------------------------|
longdesc=("LibreOffice is free independent office suite with open source, released as fork of OpenOffice.org"
)

#Here is a bydlocode time!
mirror="http://download.documentfoundation.org/libreoffice/src"
addons="http://hg.services.openoffice.org/binaries"

source=("$mirror/$name-build-$ver.tar.gz
$mirror/$name-{artwork,base,bootstrap,calc,components,extensions,extras,filters,help,impress,l10n,libs-core,libs-extern,libs-extern-sys,libs-gui,postprocess,sdk,testing,ure,writer}-$ver.tar.bz2 n
$addons/63ddc5116488985e820075e65fbe6aa4-openssl-0.9.8o.tar.gz
$addons/09357cc74975b01714e00c5899ea1881-pixman-0.12.0.tar.gz
$addons/0b49ede71c21c0599b0cc19b353a6cb3-README_apache-commons.txt
$addons/68dd2e8253d9a7930e9fd50e2d7220d0-hunspell-1.2.9.tar.gz
$addons/128cfc86ed5953e57fe0f5ae98b62c2e-libtextcat-2.2.tar.gz
$addons/17410483b5b5f267aa18b7e00b65e6e0-hsqldb_1_8_0.zip
$addons/1756c4fa6c616ae15973c104cd8cb256-Adobe-Core35_AFMs-314.tar.gz
$addons/18f577b374d60b3c760a3a3350407632-STLport-4.5.tar.gz
$addons/1f24ab1d39f4a51faf22244c94a6203f-xmlsec1-1.2.14.tar.gz
$addons/24be19595acad0a2cae931af77a0148a-LICENSE_source-9.0.0.7-bj.html
$addons/26b3e95ddf3d9c077c480ea45874b3b8-lp_solve_5.5.tar.gz
$addons/284e768eeda0e2898b0d5bf7e26a016e-raptor-1.4.18.tar.gz
$addons/2a177023f9ea8ec8bd00837605c5df1b-jakarta-tomcat-5.0.30-src.tar.gz
$addons/2ae988b339daec234019a7066f96733e-commons-lang-2.3-src.tar.gz
$addons/2c9b0f83ed5890af02c0df1c1776f39b-commons-httpclient-3.1-src.tar.gz
$addons/2f6ecca935948f7db92d925d88d0d078-icu4c-4_0_1-src.tgz
$addons/ca4870d899fd7e943ffc310a5421ad4d-liberation-fonts-ttf-1.06.0.20100721.tar.gz
$addons/35c94d2df8893241173de1d16b6034c0-swingExSrc.zip
$addons/35efabc239af896dfb79be7ebdd6e6b9-gentiumbasic-fonts-1.10.zip
$addons/377a60170e5185eb63d3ed2fae98e621-README_silgraphite-2.3.1.txt
$addons/39bb3fcea1514f1369fcfc87542390fd-sacjava-1.3.zip
$addons/3ade8cfe7e59ca8e65052644fed9fca4-epm-3.7.tar.gz
$addons/3c219630e4302863a9a83d0efde889db-commons-logging-1.1.1-src.tar.gz
$addons/48470d662650c3c074e1c3fabbc67bbd-README_source-9.0.0.7-bj.txt
$addons/48d8169acc35f97e05d8dcdfd45be7f2-lucene-2.3.2.tar.gz
$addons/4a660ce8466c9df01f19036435425c3a-glibc-2.1.3-stub.tar.gz
$addons/4ea70ea87b47e92d318d4e7f5b940f47-cairo-1.8.0.tar.gz
$addons/599dc4cc65a07ee868cf92a667a913d2-xpdf-3.02.tar.gz
$addons/5aba06ede2daa9f2c11892fbd7bc3057-libserializer.zip
$addons/67b42915c8432abf0a922438f00860a2-libxml.zip
$addons/7740a8ec23878a2f50120e1faa2730f2-libxml2-2.7.6.tar.gz
$addons/7376930b0d3f3d77a685d94c4a3acda8-STLport-4.5-0119.tar.gz
$addons/79600e696a98ff95c2eba976f7a8dfbb-liblayout.zip
$addons/798b2ffdc8bcfe7bca2cf92b62caf685-rhino1_5R5.zip
$addons/ecb2e37e45c9933e2a963cabe03670ab-curl-7.19.7.tar.gz
$addons/8294d6c42e3553229af9934c5c0ed997-stax-api-1.0-2-sources.jar
$addons/8ea307d71d11140574bfb9fcc2487e33-libbase.zip
$addons/bd30e9cf5523cdfc019b94f5e1d7fd19-cppunit-1.12.1.tar.gz
$addons/a06a496d7a43cbdc35e69dbe678efadb-libloader.zip
$addons/a169ab152209200a7bad29a275cb0333-seamonkey-1.1.14.source.tar.gz
$addons/a4d9b30810a434a3ed39fc0003bbd637-LICENSE_stax-api-1.0-2-sources.html
$addons/a7983f859eafb2677d7ff386a023bc40-xsltml_2.1.2.zip
$addons/ada24d37d8d638b3d8a9985e80bc2978-source-9.0.0.7-bj.zip
$addons/af3c3acf618de6108d65fcdc92b492e1-commons-codec-1.3-src.tar.gz
$addons/ba1015b59c112d44d7797b62fe7bee51-neon-0.29.3.tar.gz
$addons/bc702168a2af16869201dbe91e46ae48-LICENSE_Python-2.6.1
$addons/c441926f3a552ed3e5b274b62e86af16-STLport-4.0.tar.gz
$addons/ca66e26082cab8bb817185a116db809b-redland-1.0.8.tar.gz
$addons/d0b5af6e408b8d2958f3d83b5244f5e8-hyphen-2.4.tar.gz
$addons/d1a3205871c3c52e8a50c9f18510ae12-libformula.zip
$addons/d35724900f6a4105550293686688bbb3-silgraphite-2.3.1.tar.gz
$addons/d4c4d91ab3a8e52a2e69d48d34ef4df4-core.zip
$addons/d70951c80dabecc2892c919ff5d07172-db-4.7.25.NC-custom.tar.gz
$addons/dbb3757275dc5cc80820c0b4dd24ed95-librepository.zip
$addons/dbd5f3b47ed13132f04c685d608a7547-jpeg-6b.tar.gz
$addons/e0707ff896045731ff99e99799606441-README_db-4.7.25.NC-custom.txt
$addons/e81c2f0953aa60f8062c05a4673f2be0-Python-2.6.1.tar.bz2
$addons/e61d0364a30146aaa3001296f853b2b9-libxslt-1.1.26.tar.gz
$addons/ea570af93c284aa9e5621cd563f54f4d-bsh-2.0b1-src.tar.gz
$addons/ea91f2fb4212a21d708aced277e6e85a-vigra1.4.0.tar.gz
$addons/ee8b492592568805593f81f8cdf2a04c-expat-2.0.1.tar.gz
$addons/f3e2febd267c8e4b13df00dac211dd6d-flute.zip
$addons/f7925ba8491fe570e5164d2c72791358-libfonts.zip
$addons/fb7ba5c2182be4e73748859967455455-README_stax-api-1.0-2-sources.txt
$addons/fca8706f2c4619e2fa3f8f42f8fc1e9d-rasqal-0.9.16.tar.gz
$addons/fcc6df1160753d0b8c835d17fdeeb0a7-boost_1_39_0.tar.gz
$addons/fdb27bfe2dbe2e7b57ae194d9bf36bab-SampleICC-1.3.2.tar.gz
$addons/37282537d0ed1a087b1c8f050dc812d9-dejavu-fonts-ttf-2.32.zip
$addons/831126a1ee5af269923cfab6050769fe-mysql-connector-cpp.zip
$addons/067201ea8b126597670b5eff72e1f66c-mythes-1.2.0.tar.gz
$addons/cf8a6967f7de535ae257fa411c98eb88-mdds_0.3.0.tar.bz2
http://download.go-oo.org/src/71474203939fafbe271e1263e61d083e-nss-3.12.8-with-nspr-4.8.6.tar.gz
http://www.numbertext.org/linux/881af2b7dca9b8259abbca00bbbc004d-LinLibertineG-20110101.zip
http://download.go-oo.org/src/47e1edaa44269bc537ae8cabebb0f638-JLanguageTool-1.0.0.tar.bz2
http://download.go-oo.org/src/debc62758716a169df9f62e6ab2bc634-zlib-1.2.3.tar.gz
http://download.go-oo.org/src/5ba6a61a2f66dfd5fee8cdd4cd262a37-libwpg-0.2.0.tar.bz2
http://download.go-oo.org/src/86e390f015e505dd71a66f0123c62f09-libwpd-0.9.0.tar.bz2
http://download.go-oo.org/src/9e436bff44c60dc8b97cba0c7fc11a5c-libwps-0.2.0.tar.bz2
http://download.go-oo.org/extern/185d60944ea767075d27247c3162b3bc-unowinreg.dll
http://download.go-oo.org//DEV300/ooo-cli-prebuilt-3.3.tar.bz2
http://download.go-oo.org//SRC680/mdbtools-0.6pre1.tar.gz
http://download.go-oo.org//SRC680/extras-3.1.tar.bz2
http://download.go-oo.org//SRC680/biblio.tar.bz2
http://download.go-oo.org/src//0f63ee487fda8f21fafa767b3c447ac9-ixion-0.2.0.tar.gz
http://download.go-oo.org/src//e3738abd0d3ce1870dc1fd1f22bba5b1-icu4c-4_2_1-src.tgz
http://ftp.fsf.hu/OpenOffice.org_hu/numbertext/numbertext-0.9.3.oxt
http://ftp.fsf.hu/OpenOffice.org_hu/hunart/hunart-0.3.oxt
http://ftp.fsf.hu/OpenOffice.org_hu/typo/typo-0.3.oxt
http://download.go-oo.org/src/90401bca927835b6fbae4a707ed187c8-nlpsolver-0.9.tar.bz2
http://download.go-oo.org/src/ConvertTextToNumber-1.3.2.oxt
http://ftp.devall.hu/kami/go-oo/WatchWindow_1.2.0.0.oxt
http://ftp.devall.hu/kami/go-oo/Diagram_1.1.0.0.oxt
http://download.go-oo.org/src/oooblogger-0.1.oxt")
patch_opts=("")

#----------------------------- AgiliaLinux vars --------------------------------------
#--------------------- Специфичные для AgiliaLinux ------------------------------
#short and long tags / длинный и короткий тег
tags="xapps app-office"

#dependencies only needed to build package
build_deps="boost sane perl-Archive-Zip infozip xulrunner-devel unixodbc hsqldb-java apache-ant gperf poppler kdelibs GConf cppunit beanshell vigra lucene junit imagemagick mesa gstreamer curl hunspell python2 libXaw neon pango nspr libjpeg libXrandr libgl dbus-glib icu4c libxslt redland graphite gcc bash hicolor-icon-theme desktop-file-utils shared-mime-info jre gtk+2"

provides=""
conflicts=""

adddep=""
removedep=""

#for multi pkg abuild
pkglist="meta sdk ext pdf pr-mn pr-sc repb wikipub ct2n hunart numbertext blog typo ww diagram"

#Set number of jobs while compliling, otherwise it'll be autodetected
numjobs=1

#additional files should be copied into ${pkgdir}/usr/doc/${pkgname}-${pkgver} dir from sources
docs=
gendeps_blacklist=

#custom_opts: skip_validate skip_gendeps no_postperm no_strip
custom_opts="skip_gendeps"
#we're skipping gendeps because this can take very…no, VERY long time

#and now tyrmyrdyr with packages
meta()
{
	pkgname=libreoffice
	longdesc=("LibreOffice Office Suite metapackage. Install all the LibreOffice packages and localizations"
	adddep="libreoffice-suite libreoffice-sdk libreoffice-extensions libreoffice-i18n"
	pkg_files=meta
}



#----------------------------- Make PKG --------------------------------------
#-------------------------- Сборка пакета ------------------------------------

#ran before function build()
#запускается перед сборкой
#before_build()
#{
#echo ""
#}

build()
{
go_src_dir
burn_patches
}


#ran after function build() 
#после сборки
after_build()
{
echo ""
}
